{% extends "base.html" %}

{% block title %}Dashboard - ChapterOS{% endblock %}

{% block content %}
<div class="bg-white p-8 rounded-lg shadow-md">
    <h1 class="text-3xl font-bold mb-4">Welcome, {{ user.username }}!</h1>
    <div class="text-gray-700 mb-2">
        Your roles: 
        {% for role in user_roles %}
            <span class="font-semibold text-blue-600 bg-blue-100 px-2 py-1 rounded-full text-sm">{{ role }}</span>
        {% empty %}
            <span class="font-semibold text-gray-600">No roles assigned.</span>
        {% endfor %}
    </div>
    <p class="text-gray-700">Your current position is: <span class="font-semibold text-blue-600">{{ user.position }}</span>.</p>

    {% if 'Visitor' in user_roles and user_roles|length == 1 %}
    <div class="mt-6 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 p-4" role="alert">
        <p class="font-bold">Awaiting Approval</p>
        <p>Your account is currently pending review. An administrator will assign your final role and position soon.</p>
    </div>
    {% endif %}
</div>
{% endblock %}